<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>UCN Calculator</title>
<link rel="icon" href="http://www.caltech.edu/favicon.ico" type="image/icon">
<link rel="stylesheet" href="http://www.caltech.edu/aux/main.css" type="text/css">
<meta name="keywords" content="ultra cold neutrons, ultracold neutrons, UCN research, science, engineering, technology">

<script language='JavaScript' src='http://code.jquery.com/jquery-1.6.4.min.js'></script>
<script language='JavaScript' src='http://www.caltech.edu/aux/dynamic-images.js'></script>
<script language='JavaScript' src='http://www.caltech.edu/aux/image-functions.js'></script>
<script language='JavaScript' src='http://www.its.caltech.edu/~kevinh/navbar.js'></script>
<script language='JavaScript' src='isotopes.js'></script>

<script type="text/javascript">


var unit_count = 10;
var ucn_unit = new Array("neV","Tesla","Gauss","meters","cm","Kelvin","mK","m/s","cm/s","seconds");
var unit_words = new Array("has energy", 
                           "is repelled by a field of",
                           "is repelled by a field of",
                           "falls from",
                           "falls from",
                           "has temperature",
                           "has temperature",
                           "is moving at",
                           "is moving at",
                           "apogees in");
var Fermi_potential_elements = new Array("Beryllium", "BeO", "Nickel", "Diamond", "DLC", 
                                         "Graphite", "Iron", "Copper", "Aluminum");
var Fermi_potentials = new Array(252, 261, 252, 304, 354, 180, 210, 168, 54);

// unit per neV: neV, Tesla, Gauss, meters, cm, Kelvin, mK
var energy_factors = new Array(1, 60.3077, 0.00603077, 102.519, 1.02519, 86173.4, 86.1734);

// unit per m/s: m/s, cm/s, seconds
var velocity_factors = new Array(5.2270385, 0.00052270385, 502.686);

function make_unit_select()
{
	var i = 0;
	for (i = 0; i < unit_count; i++)
		document.write( "<option> " + ucn_unit[i] );
}

function make_fermi_select()
{
	var i = 0;
	for (i = 0; i < Fermi_potential_elements.length; i++)
		document.write( "<option> " + Fermi_potential_elements[i] );
}

function convert_ucn_unit()
{
	var from_index = $("#from-unit-select").attr("selectedIndex");
	var to_index = $("#to-unit-select").attr("selectedIndex");
	$("#from-unit-words").innerHTML = unit_words[from_index];
    $("#to-unit-words").innerHTML = unit_words[to_index];
	var from_value = eval($("#from-unit-value").val());
	if(isNaN(from_value))
		$("#to-unit-value").innerHTML = "?";
	else
	{
		if(from_index < 7)
			energy_neV = energy_factors[from_index] * from_value;
		else
			energy_neV = velocity_factors[from_index-7] * from_value * from_value;
		if(to_index < 7)
			to_value = energy_neV / energy_factors[to_index];
		else {
			to_value = Math.sqrt( energy_neV / velocity_factors[to_index-7] );
	        $("#to-unit-value").innerHTML = to_value.toPrecision(6);
        }
    }
}

function convert_fermi_potential()
{
	var from_index = $("#from-fermi-select").attr("selectedIndex");
	var to_index = $("#to-fermi-select").attr("selectedIndex");
	$("#to-fermi-words").innerHTML = unit_words[to_index];
	energy_neV = Fermi_potentials[from_index];
	if(to_index < 7)
		to_value = energy_neV / energy_factors[to_index];
	else
		to_value = Math.sqrt( energy_neV / velocity_factors[to_index-7] );
	$("#to-fermi-value").innerHTML = to_value.toPrecision(3);
}
</script>

</head>

<body bgcolor="white" onload="resetSearch()";>
<!-- header -->	
<script language='JavaScript1.2' src='http://www.caltech.edu/aux/header.js'></script>

<!-- content -->

<h1>UCN Units Calculator</h1>
<hr>
<p>
<b>Instructions</b>
<ol>
    <li> Enter a numeric value or simple expression.</li>
    <li> Select UCN units from the dropdown lists. </li>
    <li> Click the "Calculate" button. </li>
</ol>
<br />
<p><form id="ucn-calc" name="ucn-calc">
<table>
    <tr>
        <td>A UCN that </td>
        <td>
            <div id="from-unit-words">has energy</div>
        </td>
        <td>
            <input id="from-unit-value" type="text" value="1" size="8" maxlength="12">
        </td>
        <td>
            <select id="from-unit-select" onChange="convert_ucn_unit()">
                <script> make_unit_select(); </script>
            </select>
        </td>
        <td>
            <div id="to-unit-words">has energy</div>
        </td>
        <td>
            <div id="to-unit-value">1</div>
        </td>
        <td>
            <select id="to-unit-select" onChange="convert_ucn_unit()">
                <script> make_unit_select(); </script>
            </select>
        </td>
        <td> 
            <input type="button" value="Calculate" onClick="convert_ucn_unit()"> 
        </td>
    </tr>
</table>
</form>

<script>
    /*
    $("select").change(function () {
        var str = "";
        $("select option:selected").each(function () {
            str += $(this).text() + " ";
        });
        $("div").text(str);
    })
    .trigger('change');
    */
</script>

<br>
<br>
<h1>Fermi Potential Calculation</h1>
<hr>

<p><form name="fermi-calc">
<table>
    <tr>
        <td>The Fermi potential of </td>
        <td>
            <select name="from-fermi-select" onChange="convert_fermi_potential()";>
                <script> make_fermi_select(); </script>
            </select>
        </td>
    <td> can trap a UCN that </td>
        <td><div id="to-fermi-words">has energy</div></td>
        <td><div id="to-fermi-value">252</div></td>
        <td>
            <select id="to-fermi-select" onChange="convert_fermi_potential()";>
                <script> make_unit_select(); </script>
            </select>
        </td>
        <td> <input type="button" value="Calculate" onClick="convert_fermi_potential()";> </td>
    </tr>
</table>
</form>

<!-- footer -->	
<hr/>
<p align="right">
<table border=0 width=100%>
<tr>
<td align="left">
Last updated June 26, 2008
</td>
<td align="right">
&copy; 2008 Kevin Hickerson
</td>
</tr>
</table>
</p>
<br/>
<br/>
<br/>

<script language='JavaScript1.2' src='http://www.caltech.edu/aux/footer.js'></script> 

</body>

</html>

